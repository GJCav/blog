
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://blog.gjm20.top/Linux/KVM-Virtualization/hardware-details/">
      
      
        <link rel="prev" href="../qemu-kvm-ecosystem/">
      
      
        <link rel="next" href="../cli-management/">
      
      
      <link rel="icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.5.4">
    
    
      
        <title>虚拟硬件入门 - Blog</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.50c56a3b.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../css/heimu.css">
    
      <link rel="stylesheet" href="../../../css/img.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      
  


  
  

<script id="__analytics">function __md_analytics(){function n(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],n("js",new Date),n("config","G-CN7E4ZDLFQ"),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){this.value&&n("event","search",{search_term:this.value})}),document$.subscribe(function(){var a=document.forms.feedback;if(void 0!==a)for(var e of a.querySelectorAll("[type=submit]"))e.addEventListener("click",function(e){e.preventDefault();var t=document.location.pathname,e=this.getAttribute("data-md-value");n("event","feedback",{page:t,data:e}),a.firstElementChild.disabled=!0;e=a.querySelector(".md-feedback__note [data-md-value='"+e+"']");e&&(e.hidden=!1)}),a.hidden=!1}),location$.subscribe(function(e){n("config","G-CN7E4ZDLFQ",{page_path:e.pathname})})});var e=document.createElement("script");e.async=!0,e.src="https://www.googletagmanager.com/gtag/js?id=G-CN7E4ZDLFQ",document.getElementById("__analytics").insertAdjacentElement("afterEnd",e)}</script>
  
    <script>var consent;"undefined"==typeof __md_analytics||(consent=__md_get("__consent"))&&consent.analytics&&__md_analytics()</script>
  

    
    
    
   <link href="../../../assets/stylesheets/glightbox.min.css" rel="stylesheet"/><style>
    html.glightbox-open { overflow: initial; height: 100%; }
    .gslide-title { margin-top: 0px; user-select: text; }
    .gslide-desc { color: #666; user-select: text; }
    .gslide-image img { background: white; }
    .gscrollbar-fixer { padding-right: 15px; }
    .gdesc-inner { font-size: 0.75rem; }
    body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color);}
    body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color);}
    body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color);}</style> <script src="../../../assets/javascripts/glightbox.min.js"></script></head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="deep-orange" data-md-color-accent="deep-orange">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#_1" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="Blog" class="md-header__button md-logo" aria-label="Blog" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Blog
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              虚拟硬件入门
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="deep-orange" data-md-color-accent="deep-orange"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12c0-2.42-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/GJCav/blog/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="Blog" class="md-nav__button md-logo" aria-label="Blog" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    Blog
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/GJCav/blog/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Welcome
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    建站
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            建站
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../build-a-website/DDNS/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    DDNS
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../build-a-website/%E9%81%BF%E5%85%8D%E7%AC%94%E8%AE%B0%E6%9C%AC%E4%BC%91%E7%9C%A0/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    阻止笔记本休眠
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Win 奇技淫巧
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Win 奇技淫巧
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../win-tricks/Hyper-v%20%E6%97%A0%E6%B3%95%E6%B7%BB%E5%8A%A0%E5%A4%96%E9%83%A8%E4%BA%A4%E6%8D%A2%E6%9C%BA/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Hyper-v 添加外部交换机问题
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../win-tricks/auto-start/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    win 配置开机自启动
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../win-tricks/baiduyun-starter/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    限制百度云 CPU 占用
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../win-tricks/pwsh-snippet/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Powershell Snippet
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../win-tricks/run-silently/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    无窗口运行某程序
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../win-tricks/win-%E8%AE%A1%E5%88%92%E4%BB%BB%E5%8A%A1/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    win-计划任务
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../win-tricks/%E4%BD%BF%E7%94%A8rclone%E6%8C%82%E8%BD%BD%E7%A1%AC%E7%9B%98/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Win 使用 Rclone 挂载硬盘
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../win-tricks/%E5%BA%94%E7%94%A8%E6%8E%A8%E8%8D%90/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    应用推荐
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Python
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Python
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../python/conda-%E6%8E%A8%E8%8D%90%E9%85%8D%E7%BD%AE/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    conda 推荐配置
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../python/pytest-cov-%E4%BD%BF%E7%94%A8/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    pytest-cov 代码覆盖率测试
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../python/python-%E6%9C%80%E5%B0%8F%E5%8C%96%E6%89%93%E5%8C%85/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    最小化打包 非pyinstaller
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../python/%E8%99%9A%E6%8B%9F%E7%8E%AF%E5%A2%83%E6%AF%94%E8%BE%83/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Python 虚拟环境管理方案比较
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" checked>
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Linux
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Linux
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../N%E6%8C%81%E4%B9%85%E6%A8%A1%E5%BC%8F/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    N 卡开启持久模式
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../waydroid-%E6%8A%98%E8%85%BE/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Waydroid 折腾
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_3" >
        
          
          <label class="md-nav__link" for="__nav_5_3" id="__nav_5_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    指令速查
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_3">
            <span class="md-nav__icon md-icon"></span>
            指令速查
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tldr/alias/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    alias 别名
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tldr/lsof%20%E6%8C%87%E5%8C%97/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    lsof 指北
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../tldr/screen/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    screen 速查
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_4" >
        
          
          <label class="md-nav__link" for="__nav_5_4" id="__nav_5_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    代码片段
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_4">
            <span class="md-nav__icon md-icon"></span>
            代码片段
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../snippet/Proxy-Toggle/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Proxy-Toggle
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../snippet/ln-all/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ln-all 创建软连接
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../snippet/ln-mv/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ln-mv 移动软连接
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_5" checked>
        
          
          <label class="md-nav__link" for="__nav_5_5" id="__nav_5_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    KVM-Virtualization
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_5_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_5_5">
            <span class="md-nav__icon md-icon"></span>
            KVM-Virtualization
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../qemu-kvm-ecosystem/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    QEMU-KVM-libvirt 生态与安装
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    虚拟硬件入门
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    虚拟硬件入门
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#virt-manager" class="md-nav__link">
    <span class="md-ellipsis">
      Virt-manager 操作简介
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    <span class="md-ellipsis">
      虚拟硬件介绍
    </span>
  </a>
  
    <nav class="md-nav" aria-label="虚拟硬件介绍">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    <span class="md-ellipsis">
      系统信息
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cpus" class="md-nav__link">
    <span class="md-ellipsis">
      CPUs
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#memory" class="md-nav__link">
    <span class="md-ellipsis">
      Memory
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boot-options" class="md-nav__link">
    <span class="md-ellipsis">
      Boot Options
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#storage" class="md-nav__link">
    <span class="md-ellipsis">
      Storage
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    <span class="md-ellipsis">
      网卡
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_5" class="md-nav__link">
    <span class="md-ellipsis">
      输入外设
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#display-video" class="md-nav__link">
    <span class="md-ellipsis">
      图像设备 Display &amp; Video
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_6" class="md-nav__link">
    <span class="md-ellipsis">
      字符设备
    </span>
  </a>
  
    <nav class="md-nav" aria-label="字符设备">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#console-serial-parallel" class="md-nav__link">
    <span class="md-ellipsis">
      console, serial, parallel
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#channel" class="md-nav__link">
    <span class="md-ellipsis">
      channel
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_7" class="md-nav__link">
    <span class="md-ellipsis">
      总线控制器
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_8" class="md-nav__link">
    <span class="md-ellipsis">
      其他设备
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../cli-management/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    命令行管理虚拟机
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../remote-management/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    远程管理
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../networking/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    虚拟机网络配置
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../win-perf/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Win on KVM 性能测试
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Network
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            Network
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../network/%E5%B0%8F%E7%B1%B3%E8%B7%AF%E7%94%B1%E5%99%A8AX6S%E6%8A%98%E8%85%BE/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    小米路由器 AX6S 折腾
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    实验室
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            实验室
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../blog-lab/meta%E6%A8%A1%E6%9D%BF/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Meta 模板
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../blog-lab/%E5%9B%BE%E5%83%8F%E6%A0%B7%E5%BC%8F/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    图像样式
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../blog-lab/%E9%BB%91%E5%B9%95/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    黑幕
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../tag-index/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Tag Index
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../LICENSE/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    LICENSE
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#virt-manager" class="md-nav__link">
    <span class="md-ellipsis">
      Virt-manager 操作简介
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    <span class="md-ellipsis">
      虚拟硬件介绍
    </span>
  </a>
  
    <nav class="md-nav" aria-label="虚拟硬件介绍">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    <span class="md-ellipsis">
      系统信息
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cpus" class="md-nav__link">
    <span class="md-ellipsis">
      CPUs
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#memory" class="md-nav__link">
    <span class="md-ellipsis">
      Memory
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#boot-options" class="md-nav__link">
    <span class="md-ellipsis">
      Boot Options
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#storage" class="md-nav__link">
    <span class="md-ellipsis">
      Storage
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    <span class="md-ellipsis">
      网卡
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_5" class="md-nav__link">
    <span class="md-ellipsis">
      输入外设
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#display-video" class="md-nav__link">
    <span class="md-ellipsis">
      图像设备 Display &amp; Video
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_6" class="md-nav__link">
    <span class="md-ellipsis">
      字符设备
    </span>
  </a>
  
    <nav class="md-nav" aria-label="字符设备">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#console-serial-parallel" class="md-nav__link">
    <span class="md-ellipsis">
      console, serial, parallel
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#channel" class="md-nav__link">
    <span class="md-ellipsis">
      channel
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_7" class="md-nav__link">
    <span class="md-ellipsis">
      总线控制器
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_8" class="md-nav__link">
    <span class="md-ellipsis">
      其他设备
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  
  <!-- Determine whether to show tags -->


<!-- Tags -->
<nav class="md-tags"  style="font-size: small">

  <style>
    .md-tags > .twemoji ~ .twemoji {
      margin-left: 0.4rem;
    }
  </style>

  <!-- create time -->
  
  <span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 19H5V8h14m-3-7v2H8V1H6v2H5c-1.11 0-2 .89-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2h-1V1m-1 11h-5v5h5v-5Z"></path></svg></span>
  <span>2024-02-04</span>
  

  
  <span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1-2.1-2M12.5 7v5.2l4 2.4-1 1L11 13V7h1.5M11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2v1.8Z"></path></svg></span>
  <span>2024-02-04</span>
  
  
  <!-- tags -->
  
    <span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="m345 39.1 127.8 129.3c52.4 53 52.4 138.2 0 191.2l-112 113.3c-9.3 9.4-24.5 9.5-33.9.2s-9.5-24.5-.2-33.9l111.9-113.3c33.9-34.3 33.9-89.4 0-123.7L310.9 72.9c-9.3-9.4-9.2-24.6.2-33.9s24.6-9.2 33.9.2zM0 229.5V80c0-26.5 21.5-48 48-48h149.5c17 0 33.3 6.7 45.3 18.7l168 168c25 25 25 65.5 0 90.5L277.3 442.7c-25 25-65.5 25-90.5 0l-168-168C6.7 262.7 0 246.5 0 229.5zM144 144a32 32 0 1 0-64 0 32 32 0 1 0 64 0z"></path></svg></span>
    
      

      <!-- Render tag with link -->
      
        <a href="../../../tag-index/#kvm" class="md-tag">KVM</a>

      <!-- Render tag without link -->
      
    
      

      <!-- Render tag with link -->
      
        <a href="../../../tag-index/#linux" class="md-tag">Linux</a>

      <!-- Render tag without link -->
      
    
  
</nav>


  
  


<h1 id="_1">虚拟硬件入门</h1>
<p>虚拟机称之为“虚拟”，自然是因为它运行在软件虚拟的硬件上。在 kvm/qemu/libvirt 生态中，大部分硬件由 qemu 模拟，本文从 <code>virt-manager</code> 的 <code>virtual hardware details</code> 页入手，介绍常见虚拟硬件和更高阶的硬件配置方法。</p>
<!-- more -->

<h2 id="virt-manager">Virt-manager 操作简介</h2>
<p>Virt-Manager 在打开一个虚拟机后会显示该界面：</p>
<p><a class="glightbox" href="../imgs/image-20240204182842958.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20240204182842958" class="img-w100" src="../imgs/image-20240204182842958.png" /></a></p>
<p>最常用的工具都集中在 ① 号区域，工具条区。从做到有有一堆按钮，分别是：</p>
<ol>
<li><code>Graphics Console</code>：远程桌面或远程终端</li>
<li><code>Hardware Details</code>：硬件详细信息，也就是上图的界面</li>
<li>4 个虚拟机电源相关按钮：<code>启动</code>、<code>暂停/继续</code>、<code>关机</code>、<code>其他关机指令</code></li>
<li><code>Manage Snapshot</code>：管理虚拟机快照</li>
<li>最右侧还有个按钮，<code>全盘显示远程桌面</code></li>
</ol>
<p>在硬件详细信息页面，左侧②好区域是硬件列表。虽然你很难说”OS Information“这种东西是一个硬件，但也习惯性得列在这了。</p>
<p>右侧 ③ 号区域是每个硬件的详细信息，有两个选项卡：</p>
<ul>
<li><code>Details</code> 选项卡：选中后将图形化得展示这个硬件的各个配置项</li>
<li><code>XML</code> 选项卡：选中后将展示硬件配置的原始 XML 代码。<code>libvirtd</code> 使用 <code>xml</code> 格式的配置文件来描述虚拟机。<code>XML</code> 用更底层的形式展示虚拟机配置信息。</li>
</ul>
<p>默认情况下 <code>XML</code> 以只读形式展示配置文件，不允许编辑，开发者也鼓励大家使用图形化界面配置虚拟机硬件，这足以覆盖 99% 的管理需求。但真遇到一些需要手动编辑 XML 文件的情况，按照下述流程允许编辑 XML：</p>
<ul>
<li>
<p>回到 <code>Virt-Manager</code> 初始页面，按照下图设置：
    <a class="glightbox" href="../imgs/image-20240204183957737.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20240204183957737" src="../imgs/image-20240204183957737.png" /></a></p>
</li>
<li>
<p>允许编辑 XML</p>
<p><a class="glightbox" href="../imgs/image-20240204184039116.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20240204184039116" src="../imgs/image-20240204184039116.png" /></a></p>
</li>
</ul>
<h2 id="_2">虚拟硬件介绍</h2>
<h3 id="_3">系统信息</h3>
<p>| 不要吐槽为啥“信息”是硬件，他列在这了我也没啥办法</p>
<p><strong>Overview</strong></p>
<p>这一页没啥东西，稍微重要的是 <code>Basic Details</code> 中的 <code>Name</code>，对虚拟机的管理一般都使用 name 来表示一个虚拟机，不太会用那个常常的 UUID</p>
<p><strong>OS Information</strong></p>
<p>就是安装虚拟机时选择的系统类型，没啥用。</p>
<p><strong>Performance</strong></p>
<p><a class="glightbox" href="../imgs/image-20240204185821969.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20240204185821969" src="../imgs/image-20240204185821969.png" /></a></p>
<p>简单列出虚拟机的一些性能指标，用处不大。</p>
<h3 id="cpus">CPUs</h3>
<p><a class="glightbox" href="../imgs/image-20240204185914857.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20240204185914857" src="../imgs/image-20240204185914857.png" /></a></p>
<p>各配置项解释如下：</p>
<ul>
<li>CPUs<ul>
<li>Logical host CPUs：宿主机有多少颗逻辑核心。这台宿主机插了 1 块 CPU，有 14 个核心，开启了超线程，所以逻辑核心数量 = 1 * 14 * 2 = 28</li>
<li>Current allocation: 目前分配给虚拟机的核心数量</li>
<li>Maximum allocation：最多分配给虚拟机多少核心</li>
<li>这里的 <em>分配</em> 是一种共享的、不确定的分配。一个逻辑核心分配给虚拟机并不意味着宿主机和其他虚拟机无法使用该核心。默认设置下，也无法确定虚拟机运行在哪些物理核心上，也不保证不会从一个逻辑核心迁移到其他逻辑核心。不过通过编辑 XML 文件，可将虚拟机绑定到确定的几个逻辑核心</li>
<li>此外，可为单个虚拟机分配超过宿主机逻辑核心数量的核心。另一方面，为所有虚拟机分配的核心数量可大于宿主机逻辑核心数量</li>
</ul>
</li>
<li>Configuration<ul>
<li>Copy host CPU configuration 与 Model 选择框：虽然都是 x86、x64 架构的 CPU，但不同代、不同型号的 CPU 支持的指令集、特殊特性还是有些细微不同，所以需要指定 CPU 的 Model。除非是特殊情况，一般都是选择 <code>Copy host CPU configuration</code> 复制宿主机的 CPU 型号</li>
<li>Enable available CPU security flaw mitigations：一般都会勾选</li>
<li>CPU 型号选择指南： <a href="https://www.qemu.org/docs/master/system/i386/cpu.html">Recommendations for KVM CPU model configuration on x86 hosts — QEMU documentation</a></li>
</ul>
</li>
<li>Topology<ul>
<li>sockets: 虚拟的主板上插了几个 CPU</li>
<li>cores: 每个 CPU 有多少个核心</li>
<li>threads: 每个核心通过超线程技术能运行多少个线程</li>
<li>最后虚拟机的逻辑核心数 = sockets * cores * threads</li>
<li>一般都选择单 CPU 多核心结构，这是消费级电脑最常见的硬件结构</li>
</ul>
</li>
</ul>
<h3 id="memory">Memory</h3>
<p><a class="glightbox" href="../imgs/image-20240204204602710.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20240204204602710" src="../imgs/image-20240204204602710.png" /></a></p>
<p>类似 CPU 分配，为虚拟机分配的内存大小可大于宿主机实际内存大小。</p>
<h3 id="boot-options">Boot Options</h3>
<p><a class="glightbox" href="../imgs/image-20240204205011445.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20240204205011445" src="../imgs/image-20240204205011445.png" /></a></p>
<ul>
<li>Autostart：字如其意</li>
<li>Boot device order：选择从哪个设备启动的优先顺序</li>
<li>Direct kernel boot：正常情况下都不会启用该选项。只在需要快速开发、调试 Linux 内核时才会用到，该选项使虚拟机使用指定的内核、<code>initrd</code> 和参数启动。</li>
</ul>
<h3 id="storage">Storage</h3>
<p>Storage 指硬盘这类硬件，其中最常见的是 <code>VirtIO Disk</code>类型：</p>
<p><a class="glightbox" href="../imgs/image-20240204205724026.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20240204205724026" src="../imgs/image-20240204205724026.png" /></a></p>
<p>除非你能保证自己脑袋清醒，了解每个参数的含义，否则不建议修改这一页的各项参数。大部分情况下默认参数的硬盘性能已经足够使用，很多新手自以为能优化性能的修改其实最终收益都不大。</p>
<p><strong>什么是 VirtIO ?</strong></p>
<p>VirtIO 是为 Linux 开发的一套 IO 半虚拟化框架，可为虚拟机提供硬盘、网络等 IO 设备的虚拟化。虽然也可选择全虚拟化方式模拟硬盘、网络，但这得老老实实模拟硬件的所有细节，导致 IO 性能会非常非常差，所以 KVM 虚拟机普遍选择使用半虚拟化框架 VirtIO 虚拟各个 IO 设备。因为是半虚拟化，需要在虚拟机系统中安装 VirtIO 驱动。好消息是较新的 Linux 内核自带 VirtIO 驱动，坏消息是对 Windows 系统需要在安装系统时额外安装 VirtIO 驱动才能识别 VirtIO 模拟的硬盘，Windows 虚拟机创建过程详见其他文章。</p>
<p>想更进一步了解 VirtIO？</p>
<ul>
<li><a href="https://wiki.libvirt.org/Virtio.html">libvirt: Virtio</a></li>
<li><a href="https://blogs.oracle.com/linux/post/introduction-to-virtio">Introduction to VirtIO (oracle.com)</a></li>
</ul>
<h3 id="_4">网卡</h3>
<p><a class="glightbox" href="../imgs/image-20240204212424363.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20240204212424363" src="../imgs/image-20240204212424363.png" /></a></p>
<ul>
<li>
<p>Network source: QEMU 从宿主机的哪个网卡/网桥收集数据包交给虚拟机上的网卡</p>
<ul>
<li>一般情况下推荐按照上图进行配置，<code>default</code> 是安装 KVM/QEMU/LIBVIRT 生态时自动创建的虚拟网络，通过 NAT 共享宿主机的 IP 地址，满足基本的互联网访问需求，同时可同 <code>default</code> 网络中其他虚拟机进行网络通信</li>
<li>进阶配置比较复杂，会有后续文章详细介绍，敬请期待</li>
</ul>
</li>
<li>
<p>Device model: 模拟成什么型号的网卡插在虚拟机上，有这么几种选项：</p>
<ul>
<li><code>e1000e</code>：模拟 Intel 出品的一张网卡，全虚拟化方案。兼容性非常好，可以运行在非常老旧的系统上。但这张网卡结构复杂，所以模拟性能较差</li>
<li><code>rtl8139</code>：模拟 Realtek 的一张网卡，全虚拟化方案。该网卡硬件结构相对简单，但系统兼容性稍差，只兼容没有那么老旧的系统</li>
<li><code>VirtIO</code>：半虚拟化方案，要求虚拟机系统安装 VirtIO 驱动。较新的 Linux 内核自带 VirtIO 驱动，Windows 系统需要在安装系统时先安装 VirtIO 驱动。因为是半虚拟化方案，网络性能最强。</li>
</ul>
<p>总的来说，推荐使用 <code>VirtIO</code> 模型，避免网络性能损失。</p>
</li>
<li>
<p>其他：剩下的就是一些网络状态信息，不需要过多介绍</p>
</li>
</ul>
<h3 id="_5">输入外设</h3>
<p><a class="glightbox" href="../imgs/image-20240204214250242.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20240204214250242" src="../imgs/image-20240204214250242.png" /></a></p>
<p>这里分成了 3 行，输入设备<em>类型</em>分别是触摸板、鼠标、键盘。但同一类设备可选择不同的<em>IO总线</em>，点击 <code>Add Hardware</code> ，然后再 <code>input</code> 找到还未添加的输入设备：</p>
<p><a class="glightbox" href="../imgs/image-20240204214406161.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20240204214406161" src="../imgs/image-20240204214406161.png" /></a></p>
<p>从名称可看出有这么几种总线：</p>
<ul>
<li>USB，所有用过电脑的人都很熟悉的 USB 接口。现在新买的鼠标、键盘都是使用 USB 接口的了</li>
<li>Generic PS2，一种非常非常老旧但还在使用的接口，优点是不需要安装驱动就可使用鼠标、键盘。现在几乎买不到 PS2 接口的键鼠，但因为 PS2 兼容性非常好，反而适合虚拟机</li>
<li>VirtIO，半虚拟化方案，但因为输入外设的 IO 数据量都不大，没啥性能考虑，所以一般不使用该选项</li>
</ul>
<h3 id="display-video">图像设备 Display &amp; Video</h3>
<p>虚拟机的对图像设备的处理包含两个部分：</p>
<ul>
<li>Video: 虚拟一张插在虚拟机上的显卡，有这么几种类型<ul>
<li>QXL：能很好的平衡性能与兼容性的显卡模型，要求虚拟机系统安装相应显卡驱动。版本不是特别老的 linux 系统基本自带该驱动，但 Windows 需要在安装系统后额外安装 QXL 驱动</li>
<li>VGA：非常老旧但兼容性极佳的显卡模型</li>
<li>VirtIO: 半虚拟化解决方案，同样要求虚拟机系统安装对应驱动</li>
</ul>
</li>
<li>Display：虚拟一个显示屏，用来展示虚拟机的桌面。有三种类型：<ul>
<li><code>sdl</code>、<code>gtk</code> 等：在宿主机的桌面上打开一个窗口显示虚拟机桌面。但大部分宿主机都是无桌面的服务器，所以这类类型不常用</li>
<li><code>vnc server</code>：用远程桌面的展示虚拟机桌面。启动一个 VNC 服务器，用户可从任意电脑使用任何支持 VNC 协议的客户端连接到该服务器，显示虚拟机桌面</li>
<li><code>spice server</code>：也是远程桌面，但使用 SPICE 协议。该协议为虚拟机场景做了许多针对性优化，使用体验也是最好的</li>
</ul>
</li>
</ul>
<p>如果虚拟机不需要图像显示，将硬件列表中的 Video、Display 和附带的 Channel（后文将介绍） 删除即可。</p>
<p>按照笔者经验：</p>
<ul>
<li>虚拟机安装 Linux 类系统：使用 QXL + SPICE server 体验最佳</li>
<li>虚拟机安装 Windows 系统：使用 QXL + Window 自己的 RDP 体验最佳</li>
</ul>
<p>上文提到的各种方法 3D 图像性能都非常差，如果想再虚拟机中获得媲美裸机的图像性能，可以考虑显卡直通、虚拟显卡等技术。但这些技术过于复杂，之后会将相关内容独立成文进行详细介绍。</p>
<p>显卡性能是虚拟化技术中最复杂的部分之一，下面是一些参考资料，本文未能详尽之处可在这些资料中寻找：</p>
<ul>
<li><a href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/6/html/virtualization_administration_guide/sub-section-libvirt-dom-xml-devices-graphical-framebuffers">20.16.12. Graphical framebuffers Red Hat Enterprise Linux 6 | Red Hat Customer Portal</a></li>
<li><a href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/6/html/virtualization_administration_guide/sub-section-libvirt-dom-xml-devices-video">20.16.13. Video Devices Red Hat Enterprise Linux 6 | Red Hat Customer Portal</a></li>
<li><a href="https://wiki.archlinux.org/title/QEMU/Guest_graphics_acceleration">QEMU/Guest graphics acceleration - ArchWiki (archlinux.org)</a></li>
<li><a href="https://ubuntu.com/server/docs/gpu-virtualization-with-qemu-kvm">GPU virtualization with QEMU/KVM | Ubuntu</a></li>
<li><a href="https://www.kraxel.org/blog/2019/09/display-devices-in-qemu/">VGA and other display devices in qemu | 🇺🇦 kraxel’s news</a></li>
</ul>
<h3 id="_6">字符设备</h3>
<p>除了使用图形界面与虚拟机交互，还可使用字符设备与虚拟机交互。常见的字符设备有：console, serial, parallel 和 channel</p>
<h4 id="console-serial-parallel">console, serial, parallel</h4>
<ul>
<li>Console，控制台设备。这个设备比较微妙，得从计算机历史发展的角度出发理解<ul>
<li>早期计算机只有一个打字机、键盘与系统交互。此时的 console 设备就是这套键鼠，从键盘读取字符，将字符输出到打字机。这也是为何用 Console 设备在文件系统中的名字采用 teletypewriter 的缩写 tty 标识，例如 <code>tty1</code>，<code>tty2</code></li>
<li>随着计算机发展，出现显示屏，也出现了图形化的操作系统。此时交互的中心是桌面管理软件、键盘、鼠标、显示屏，但没有抛弃之前的 console 概念，而是让桌面管理软件虚拟出一堆 console 设备来兼容以前的操作方式。这类由软件虚拟出的 console 称为 virtual console，例如，在 Ubuntu 系统中按 Ctrl+Alt+F1~F6 就会分别进入 <code>tty1</code> 到 <code>tty6</code></li>
<li>但其实并不是所有电脑都会配备键盘、显示器，例如一个交换机，那这些设备如何交互呢？好消息是 console 设备是高度抽象的，本质上只有读取、写入两种操作就可完成交互。所以可以把 console 的 IO 流重定向到电脑的其他具有物理连接口的 IO 设备，例如 Serial 串口通信设备、USB 设备、甚至是网卡。通过线缆等媒介连接到这些物理接口，在另一台电脑上读写数据，即可完成与系统的交互，也就是实现 remote console 远程控制台</li>
</ul>
</li>
<li>Serial，串口设备，使用串行通信的设备。串口通信简单易实现，从最初笨拙的 COM 接口到今天的 USB 转串口等等花样层出不穷。常用 <code>ttySx</code> 来表示串口设备，例如 <code>ttyS0</code>、<code>ttyS1</code> ，其中的 <code>S</code> 指 serial，但 <code>tty</code> 就存粹是因为历史惯性</li>
<li>Parallel，并口设备。二十年前曾经流行使用并口来连接打印机，但现在已经是 USB 接口的天下。并口使用不多，大可忽略</li>
<li>Channel，</li>
</ul>
<p>创建虚拟机时会默认创建 <code>Serial 1</code> 和一个 <code>Console</code> 来适配下面两种情况：</p>
<ul>
<li>虚拟机中的系统有图形化桌面，那这个 serial 1 和 console 将由桌面软件管理</li>
<li>虚拟机中的系统无图形化桌面，那需要指定内核启动参数 <code>console=ttyS0</code>，让内核把 console 的 IO 重定向到 serial 1 上。这样才能通过 <code>virsh console</code> 访问到虚拟机</li>
</ul>
<p>默认的 serial 和 console 配置代码应该类似：</p>
<div class="language-xml highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="nt">&lt;serial</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;pty&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="w">    </span><span class="nt">&lt;source</span><span class="w"> </span><span class="na">path=</span><span class="s">&quot;/dev/pts/2&quot;</span><span class="nt">/&gt;</span>
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="w">    </span><span class="nt">&lt;target</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;isa-serial&quot;</span><span class="w"> </span><span class="na">port=</span><span class="s">&quot;0&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-0-4"><a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="w">        </span><span class="nt">&lt;model</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;isa-serial&quot;</span><span class="nt">/&gt;</span>
</span><span id="__span-0-5"><a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a><span class="w">    </span><span class="nt">&lt;/target&gt;</span>
</span><span id="__span-0-6"><a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a><span class="nt">&lt;/serial&gt;</span>
</span><span id="__span-0-7"><a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a><span class="nt">&lt;console</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;pty&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-0-8"><a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a><span class="w">    </span><span class="nt">&lt;target</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;serial&quot;</span><span class="w"> </span><span class="na">port=</span><span class="s">&quot;0&quot;</span><span class="nt">/&gt;</span>
</span><span id="__span-0-9"><a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a><span class="nt">&lt;/console&gt;</span>
</span></code></pre></div>
<ul>
<li><code>source</code> 串口通信连接两端，一端连到虚拟机，被标识为 <code>ttyS0</code>；另一端连到宿主机，被标识为 <code>source.path</code> 即 <code>/dev/pts/2</code> </li>
<li><code>serial.target.port</code> 填从 0 开始的数字，填 X，在虚拟机中就是 <code>ttySX</code></li>
<li><code>console.target.type</code> 除了是 serial，还能是 virtio，但 virtio 类型串口必须等到系统加载完毕才能完成连接。这会错过系统引导信息和启动初期的日志，使用较少。</li>
</ul>
<p><br /></p>
<p>说实话大部分情况下都不需要修改和串口、控制台相关配置，默认配置已经能很好的工作。如果读者有深入了解的兴趣，可以参考 <a href="https://libvirt.org/formatdomain.html#consoles-serial-parallel-channel-devices">libvirt 关于 serial 的文档</a></p>
<p>如果对走网络的串口感兴趣，可阅读 <a href="https://libvirt.org/formatdomain.html#tcp-client-server">libvirt: tcp-udp-serial</a></p>
<h4 id="channel">channel</h4>
<p><a class="glightbox" href="../imgs/image-20240205013504226.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20240205013504226" src="../imgs/image-20240205013504226.png" /></a></p>
<p>Channel 是宿主机到虚拟机的特殊通信通道，在避免网络通信的前提下实现数据交换。主要是 guest agent 在使用 channel。guest agent 是安装在虚拟机上与宿主机配合控制虚拟机的软件。例如 SPICE 远程桌面提供的 spice-guest-tools，VMWare 使用的 vmware-tools。通过 channel + guest tool 的配合，可实现远程桌面到虚拟机的剪切板共享、文件复制粘贴等大大提升操作体验的功能</p>
<h3 id="_7">总线控制器</h3>
<p><a class="glightbox" href="../imgs/image-20240205014340740.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20240205014340740" src="../imgs/image-20240205014340740.png" /></a></p>
<p>每种总线都需要一个控制器，让 libvirtd 自动配置即可</p>
<h3 id="_8">其他设备</h3>
<p>还有一些零零碎碎的设备列举如下：</p>
<ul>
<li>USB Redirector，其貌不扬但非常有用，使用远程桌面时可将本机的 USB 设备重定向到虚拟机。也就是说打开远程桌面，在本地插一块 U 盘，重定向到虚拟机，那在虚拟机中就可以像这个 U 盘就是插在虚拟机上一样操作这个 U 盘。USB 重定向操作方法如下：</li>
</ul>
<p><a class="glightbox" href="../imgs/image-20240205014918327.png" data-type="image" data-width="auto" data-height="auto" data-desc-position="bottom"><img alt="image-20240205014918327" src="../imgs/image-20240205014918327.png" /></a></p>
<ul>
<li>RNG，把宿主机的随机数生成直通给虚拟机</li>
<li>Sound，声卡，没啥好配置的</li>
<li>Smartcard，智能卡(RFID)阅读器</li>
<li>Watchdog，看门狗，在你的系统进入异常后完成重启等操作</li>
<li>Panic Notifier，虚拟机系统出现内核错误时通知宿主机</li>
<li>VirtIO VSOCK，实现虚拟机到宿主机或虚拟机间通信的设备，用来替代使用网络进行通信。核心买点是高效、简单、易移植</li>
</ul>







  
  



  





  <h2 id="__comments">Comments</h2>
  <!-- Insert generated snippet here -->
  <script src="https://giscus.app/client.js"
        data-repo="gjcav/blog"
        data-repo-id="R_kgDOJ9MdDw"
        data-category="Comments"
        data-category-id="DIC_kwDOJ9MdD84CX-4C"
        data-mapping="pathname"
        data-strict="1"
        data-reactions-enabled="1"
        data-emit-metadata="0"
        data-input-position="top"
        data-theme="preferred_color_scheme"
        data-lang="en"
        data-loading="lazy"
        crossorigin="anonymous"
        async>
  </script>

  <!-- Synchronize Giscus theme with palette -->
  <script>
    var giscus = document.querySelector("script[src*=giscus]")

    /* Set palette on initial load */
    var palette = __md_get("__palette")
    if (palette && typeof palette.color === "object") {
      var theme = palette.color.scheme === "slate" ? "dark" : "light"
      giscus.setAttribute("data-theme", theme) 
    }

    /* Register event handlers after documented loaded */
    document.addEventListener("DOMContentLoaded", function() {
      var ref = document.querySelector("[data-md-component=palette]")
      ref.addEventListener("change", function() {
        var palette = __md_get("__palette")
        if (palette && typeof palette.color === "object") {
          var theme = palette.color.scheme === "slate" ? "dark" : "light"

          /* Instruct Giscus to change theme */
          var frame = document.querySelector(".giscus-frame")
          frame.contentWindow.postMessage(
            { giscus: { setConfig: { theme } } },
            "https://giscus.app"
          )
        }
      })
    })
  </script>

                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer" >
        
          
          <a href="../qemu-kvm-ecosystem/" class="md-footer__link md-footer__link--prev" aria-label="Previous: QEMU-KVM-libvirt 生态与安装">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                QEMU-KVM-libvirt 生态与安装
              </div>
            </div>
          </a>
        
        
          
          <a href="../cli-management/" class="md-footer__link md-footer__link--next" aria-label="Next: 命令行管理虚拟机">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Next
              </span>
              <div class="md-ellipsis">
                命令行管理虚拟机
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <!--
  Copyright (c) 2016-2023 Martin Donath <martin.donath@squidfunk.com>

  Permission is hereby granted, free of charge, to any person obtaining a copy
  of this software and associated documentation files (the "Software"), to
  deal in the Software without restriction, including without limitation the
  rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
  sell copies of the Software, and to permit persons to whom the Software is
  furnished to do so, subject to the following conditions:

  The above copyright notice and this permission notice shall be included in
  all copies or substantial portions of the Software.

  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
  FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT. IN NO EVENT SHALL THE
  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
  FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
  IN THE SOFTWARE.
-->

<!-- Copyright and theme information -->
<div class="md-copyright">
    
      <div class="md-copyright__highlight">
        Copyright &copy; 2023 GJCav
      under 
      <a href="https://www.gnu.org/licenses/gpl-3.0.en.html#license-text" target="_blank">GNU GPLv3</a>
      </div>
    

    
      Made with
      <a
        href="https://squidfunk.github.io/mkdocs-material/"
        target="_blank" rel="noopener"
      >
        Material for MkDocs
      </a>
      and 
      <a
        href="https://gjcav.github.io/mkdocs-template/"
        target="_blank" ref="noopener"
      >
        GJCav Template
      </a>
    
  </div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
      <div class="md-consent" data-md-component="consent" id="__consent" hidden>
        <div class="md-consent__overlay"></div>
        <aside class="md-consent__inner">
          <form class="md-consent__form md-grid md-typeset" name="consent">
            

  
    
  


  
    
  



  


<h4>Cookie consent</h4>
<p>We use cookies to recognize your repeated visits and preferences, as well as to measure the effectiveness of our documentation and whether users find what they're searching for. With your consent, you're helping us to make our documentation better.</p>
<input class="md-toggle" type="checkbox" id="__settings" >
<div class="md-consent__settings">
  <ul class="task-list">
    
      
      
        
        
      
      <li class="task-list-item">
        <label class="task-list-control">
          <input type="checkbox" name="analytics" checked>
          <span class="task-list-indicator"></span>
          Google Analytics
        </label>
      </li>
    
      
      
        
        
      
      <li class="task-list-item">
        <label class="task-list-control">
          <input type="checkbox" name="github" checked>
          <span class="task-list-indicator"></span>
          GitHub
        </label>
      </li>
    
  </ul>
</div>
<div class="md-consent__controls">
  
    
      <button class="md-button md-button--primary">Accept</button>
    
    
    
  
    
    
    
      <label class="md-button" for="__settings">Manage settings</label>
    
  
</div>
          </form>
        </aside>
      </div>
      <script>var consent=__md_get("__consent");if(consent)for(var input of document.forms.consent.elements)input.name&&(input.checked=consent[input.name]||!1);else"file:"!==location.protocol&&setTimeout(function(){document.querySelector("[data-md-component=consent]").hidden=!1},250);var action,form=document.forms.consent;for(action of["submit","reset"])form.addEventListener(action,function(e){if(e.preventDefault(),"reset"===e.type)for(var n of document.forms.consent.elements)n.name&&(n.checked=!1);__md_set("__consent",Object.fromEntries(Array.from(new FormData(form).keys()).map(function(e){return[e,!0]}))),location.hash="",location.reload()})</script>
    
    <script id="__config" type="application/json">{"base": "../../..", "features": ["navigation.tracking", "content.code.copy", "content.code.annotate", "navigation.footer"], "search": "../../../assets/javascripts/workers/search.c011b7c0.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../../assets/javascripts/bundle.7389ff0e.min.js"></script>
      
        <script src="../../../javascripts/mathjax.js"></script>
      
        <script src="../../../javascripts/anime.min.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
    
  <script>document$.subscribe(() => {const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});})</script></body>
</html>